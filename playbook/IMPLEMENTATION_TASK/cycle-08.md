## FILE: playbook/IMPLEMENTATION_TASK/cycle08.md

# IMPLEMENTATION TASK – Cycle 8  
**UX最小磨き（初回ガイド / 空状態 / 文言 / 処理中表示）**

---

## Goal
PoCを「他人に触らせても迷わない」状態にする。

---

## Context
### Current behavior
- 機能は揃っているが、初見だと
  - 何がプライバシー上安全なのか
  - 何をすれば良いのか
  - 空状態でどう進めれば良いのか
  が分かりづらい可能性がある

### Desired behavior
- 初回だけ短い案内が出て、理解できる
- 空状態で次のアクションが分かる
- 設定の意味が誤解なく伝わる
- 処理中/失敗が分かりやすい（最小）

---

## Scope

### Must include

#### 1) 初回ガイド（ワンショット）
- 初回起動時のみ表示（以降は表示しない）
- 設定（IndexedDB settings）にフラグ保存
  - 例：`onboardingDismissed: true`
- 内容（例）
  - 外部送信しない
  - 端末内保存
  - バックアップ（暗号化可）
- UIはモーダル or 画面上部バナーどちらでもOK
- 「閉じる」ボタン必須

#### 2) 空状態文言の統一 + 導線
- Entry一覧：0件
  - 「まだ日記がありません」＋「新規作成」導線
- 検索：0件
  - 「該当する日記がありません」＋「検索をクリア」導線（×ボタンがあるなら文言だけでも可）
- Review：0件（月）
  - 既存文言「この月の日記はありません」を維持してOK（必要なら補足）

#### 3) 設定画面の説明文（短く）
- 要約ON/OFF：
  - ON: 保存時に要約を作る（端末内）
  - OFF: 要約を作らない
- バックアップ：
  - 通常エクスポート：復元用
  - 暗号化バックアップ：パスワードで暗号化（外部送信はしない）

#### 4) 処理中表示（最小）
- インポート/暗号化インポート中に「処理中…」を表示
  - 画面全体ローディングでもボタンdisabledでもOK
- エラー文言を統一（本文/要約の露出なし）

### Must NOT include
- 新規依存追加
- 外部通信追加
- デザイン作り込み
- 新機能追加（週/月要約、タグ等）

---

## Constraints
- 外部通信なし
- 依存追加なし
- console.logに本文/要約を出さない
- 既存機能を壊さない（CRUD/検索/PWA/バックアップ/暗号化/Review）

---

## Acceptance criteria
- [ ] 初回のみガイド表示、2回目以降出ない
- [ ] 一覧0件で「新規作成」導線がある
- [ ] 検索0件で分かりやすい文言
- [ ] 設定画面の説明文が追加されている
- [ ] インポート系で処理中が分かる
- [ ] オフラインで動作、ビルドが通る

---

## Notes / Links
- Related docs:
  - playbook/ARCHITECTURE.md
  - playbook/CYCLE_PLAN/cycle-08.md
- UIは最小でOK。PoCとして「迷わない」が最優先。